
<!DOCTYPE html>
<!--[if lt IE 9]><html class="lte-ie8" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html lang="en"><!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <title>GOV.UK - The best place to find government services and information</title>

    <!--[if gt IE 8]><!--><link href="/static/stylesheets/govuk-template.css?0.19.2" media="screen" rel="stylesheet" /><!--<![endif]-->
    <!--[if IE 6]><link href="/static/stylesheets/govuk-template-ie6.css?0.19.2" media="screen" rel="stylesheet" /><![endif]-->
    <!--[if IE 7]><link href="/static/stylesheets/govuk-template-ie7.css?0.19.2" media="screen" rel="stylesheet" /><![endif]-->
    <!--[if IE 8]><link href="/static/stylesheets/govuk-template-ie8.css?0.19.2" media="screen" rel="stylesheet" /><![endif]-->
    <!-- <link href="/static/stylesheets/govuk-template-print.css?0.19.2" media="print" rel="stylesheet" /> -->

    <!--[if IE 8]><link href="/static/stylesheets/fonts-ie8.css?0.19.2" media="all" rel="stylesheet" /><![endif]-->
    <!--[if gte IE 9]><!--><link href="/static/stylesheets/fonts.css?0.19.2" media="all" rel="stylesheet" /><!--<![endif]-->
    <!--[if lt IE 9]><script src="/static/javascripts/ie.js?0.19.2"></script><![endif]-->

    <link rel="shortcut icon" href="/static/images/favicon.ico?0.19.2" type="image/x-icon" />
    <link rel="mask-icon" href="/static/images/gov.uk_logotype_crown.svg?0.19.2" color="#0b0c0c" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/static/images/apple-touch-icon-152x152.png?0.19.2" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/static/images/apple-touch-icon-120x120.png?0.19.2" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/static/images/apple-touch-icon-76x76.png?0.19.2" />
    <link rel="apple-touch-icon-precomposed" href="/static/images/apple-touch-icon-60x60.png?0.19.2" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:image" content="/static/images/opengraph-image.png?0.19.2" />


    <meta name="viewport" content="width=100%, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,target-densitydpi=device-dpi, user-scalable=no" />
    <link rel="stylesheet" type="text/css" href="/static/govuk_template-0.20.0/assets/stylesheets/govuk-elements.css" />
    <link rel="stylesheet" type="text/css" href="/static/stylesheets/application.css" />


  </head>



  <body class="">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <header role="banner" id="global-header" class="with-proposition">
      <div class="header-wrapper">
        <div class="header-global">
          <div class="header-logo">
            <a href="https://www.gov.uk" title="Go to the GOV.UK homepage" id="logo" class="content">
              <img src="/static/images/gov.uk_logotype_crown_invert_trans.png?0.19.2" width="36" height="32" alt=""> GOV.UK
            </a>
          </div>

        </div>
        <div class="header-proposition">
          <div class="content">
            <a href="#proposition-links" class="js-header-toggle menu">Menu</a>
            <nav id="proposition-menu">
                <a href="/" id="proposition-name">
                  Ethnicity facts and figures
                </a>

                    <ul id="proposition-links">
                        <li><a href="/about-ethnicity">About ethnicity</a></li>
                        <li><a href="/background">Background</a></li>
                    </u>
              </nav>
          </div>
        </div>
      </div>
    </header>
    <div id="global-header-bar"></div>

    <main id="content" role="main">

      <div class="phase-banner">
        <p>
          <strong class="phase-tag">Private Beta</strong>
          <span>This is a new service â€“ please send your feedback to <a href="mailto:ethnicity@cabinetoffice.gov.uk">ethnicity@cabinetoffice.gov.uk</a></span>
        </p>
      </div>

      <div class="breadcrumbs">
        <ol>
          <li><a href="/" data-event="breadcrumb-homepage">Ethnicity facts and figures</a></li>
          <li>
            <a href="/crime-justice-and-the-law" data-event="breadcrumb-crime-justice-and-the-law">Crime justice and the law</a>
          </li>
        </ol>
      </div>

      <h1 class="heading-large">Employment rates by region</h1>

      <div>

        <span style="padding-right: 20px;">
          Show
        <select class="form-control" style="width: 200px;" id="ethnicity-select">
          <option>All</option>
          <option>Indian</option>
          <option>Pakistani/Bangladeshi</option>
          <option>Asian other</option>
          <option>Black</option>
          <option>Mixed</option>
          <option>White British</option>
          <option>White other</option>
          <option>Other</option>
        </select>
          </span>

            <span id="compared-to-all-option" style="display: inline-block; float: none; vertical-align: middle;" class="multiple-choice hidden"><input type="checkbox" id="compared-to-all" class="form-control" /> <label for="compared-to-all">compared to all</label></span>


      </div>


      <!-- CONTENT STARTS HERE -->

<svg width="600px" height="600px" viewBox="0 0 1200 1200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 48.2 (47327) - http://www.bohemiancoding.com/sketch -->
    <title>Regions Copy</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Regions-Copy">
            <g id="Group" transform="translate(300.000000, 100.000000)" fill="#005EA5" stroke="#000000">
                <path d="M500,900 L400,900 L400,800 L400,700 L500,700 L500,800 L600,800 L600,900 L500,900 Z" id="south-east" fill-opacity="0.9"></path>
                <path d="M600,700 L500,700 L500,600 L600,600 L700,600 L700,700 L700,800 L600,800 L600,700 Z" id="east" fill-opacity="0.8"></path>
                <path d="M400,500 L400,400 L500,400 L600,400 L600,500 L600,600 L500,600 L500,700 L400,700 L400,600 L400,500 Z" id="east-midlands" fill-opacity="0.6"></path>
                <path d="M400,600 L400,700 L300,700 L300,699 L200,699 L200,599 L200,500 L300,500 L400,500 L400,600 Z" id="west-midlands" fill-opacity="0.2"></path>
                <path d="M200,300 L200,200 L300,200 L300,300 L300,400 L400,400 L400,500 L300,500 L200,500 L200,400 L200,300 Z" id="north-west" fill-opacity="0.3"></path>
                <path d="M300,300 L300,200 L400,200 L500,200 L500,300 L500,400 L400,400 L300,400 L300,300 Z" id="yorkshire" fill-opacity="0.3"></path>
                <path d="M400,200 L300,200 L300,100 L300,0 L400,0 L400,100 L500,100 L500,200 L400,200 Z" id="north-east" fill-opacity="0.1"></path>
                <path d="M100,1000 L0,1000 L0,900 L100,900 L100,800 L200,800 L300,800 L300,700 L400,700 L400,800 L400,900 L300,900 L200,900 L200,1000 L100,1000 Z" id="south-west" fill-opacity="0.8"></path>
                <rect id="london" fill-opacity="0.5" x="500" y="700" width="100" height="100"></rect>
            </g>
            <g id="Names-and-values-big" transform="translate(325.000000, 125.000000)" fill="#000000">
                <g id="Values-Copy" transform="translate(175.000000, 0.000000)" font-family="GDSTransportWebsite-Bold, GDS Transport Website" font-size="40" font-weight="bold" letter-spacing="-0.07500001">
                    <text id="74%">
                        <tspan x="350" y="754" class="region-value" id="london-value">74%</tspan>
                    </text>
                    <text id="70%">
                        <tspan x="450" y="739" class="region-value" id="east-value">70%</tspan>
                    </text>
                    <text id="78%">
                        <tspan x="300" y="839" class="region-value" id="south-east-value">78%</tspan>
                    </text>
                    <text id="77%">
                        <tspan x="50" y="839" class="region-value" id="south-west-value">77%</tspan>
                    </text>
                    <text id="71%">
                        <tspan x="100" y="614" class="region-value" id="west-midlands-value">71%</tspan>
                    </text>
                    <text id="75%">
                        <tspan x="300" y="514" class="region-value" id="east-midlands-value">75%</tspan>
                    </text>
                    <text id="72%">
                        <tspan x="200" y="239" class="region-value" id="yorkshire-value">72%</tspan>
                    </text>
                    <text id="72%">
                        <tspan x="50" y="339" class="region-value" id="north-west-value">72%</tspan>
                    </text>
                    <text id="70%">
                        <tspan x="150" y="39" class="region-value" id="north-east-value">70%</tspan>
                    </text>
                </g>
                <g id="Region-names-big-Copy" transform="translate(0.000000, 100.000000)" font-family="GDSTransportWebsite, GDS Transport Website" font-size="24" font-weight="300" letter-spacing="0.272000015">
                    <text id="North-West">
                        <tspan x="214.214219" y="335">North West</tspan>
                    </text>
                    <text id="Yorkshire-and-the-Hu">
                        <tspan x="303.358953" y="180">Yorkshire and </tspan>
                        <tspan x="311.823594" y="210">the Humber</tspan>
                    </text>
                    <text id="North-East">
                        <tspan x="317.489609" y="35">North East</tspan>
                    </text>
                    <text id="South-East">
                        <tspan x="393.095391" y="623">South </tspan>
                        <tspan x="401.463812" y="656">East</tspan>
                    </text>
                    <text id="London">
                        <tspan x="485.623453" y="604">London</tspan>
                    </text>
                    <text id="East-of-England">
                        <tspan x="588.540187" y="523">East of </tspan>
                        <tspan x="581.626125" y="556">England</tspan>
                    </text>
                    <text id="South-West">
                        <tspan x="13.7454687" y="823">South West</tspan>
                    </text>
                    <text id="East-Midlands">
                        <tspan x="400.312078" y="335">East Midlands</tspan>
                    </text>
                    <text id="West-Midlands">
                        <tspan x="196.714422" y="445">West Midlands</tspan>
                    </text>
                </g>
            </g>
        </g>
    </g>
</svg>


      <!-- CONTENT ENDS HERE -->
    </main>
    <footer class="group js-footer" id="footer" role="contentinfo">

      <div class="footer-wrapper">

        <div class='footer-categories grid-row'>
          <div class='column-one-third'>
            <h2>Contact</h2>
            <ul>
              <li>
                  <a href="mailto:ethnicity@cabinetoffice.gov.uk">ethnicity@cabinetoffice.gov.uk</a>
              </li>
              <li>
                  <a href="/">Site preview</a>
              </li>
              <li>
                  <a href="/cms/">CMS</a>
              </li>
              <li>
                  <a href="/prototype/">Prototype</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="footer-meta">
          <div class="footer-meta-inner">
            <div class="open-government-licence">
              <p class="logo"><a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence</a></p>
                <p>All content is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" rel="license">Open Government Licence v3.0</a>, except where otherwise stated</p>
            </div>
          </div>
          <div class="copyright">
            <a href="http://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/copyright-and-re-use/crown-copyright/">&copy; Crown copyright</a>
          </div>
        </div>
      </div>
    </footer>

    <div id="global-app-error" class="app-error hidden"></div>
    <script src="/static/javascripts/govuk-template.js?0.19.2"></script>
    <script type="text/javascript" src="/static/vendor/jquery.min.js"></script>
    <script type="text/javascript" src="/static/javascripts/all.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/5.0.11/highcharts.js"></script>
    <script type="text/javascript" src="/static/vendor/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/static/vendor/underscore-min.js"></script>
    <script src="/static/javascripts/rd-data-tools.js"></script>
    <script src="/static/javascripts/rd-graph.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/5.0.11/modules/exporting.js"></script>
    </script>


      <script>

        var ethnicitySelect = document.getElementById('ethnicity-select');

        var data = {
   "east-midlands": {
      "All": 75,
      "Indian": "70",
      "Pakistani/Bangladeshi": "53",
      "Asian other": "60",
      "Black": "68",
      "Mixed": "60",
      "White British": 76,
      "White other": 80,
      "Other": "?"
   },
   "east": {
      "All": 77,
      "Indian": "73",
      "Pakistani/Bangladeshi": "54",
      "Asian other": "71",
      "Black": "72",
      "Mixed": "74",
      "White British": 77,
      "White other": 84,
      "Other": "68"
   },
   "london": {
      "All": 74,
      "Indian": "76",
      "Pakistani/Bangladeshi": "54",
      "Asian other": "66",
      "Black": "69",
      "Mixed": "63",
      "White British": 78,
      "White other": 81,
      "Other": "63"
   },
   "north-east": {
      "All": 70,
      "Indian": "?",
      "Pakistani/Bangladeshi": "55",
      "Asian other": "?",
      "Black": "?",
      "Mixed": "?",
      "White British": 71,
      "White other": 74,
      "Other": "?"
   },
   "north-west": {
      "All": 72,
      "Indian": "64",
      "Pakistani/Bangladeshi": "55",
      "Asian other": "57",
      "Black": "59",
      "Mixed": "68",
      "White British": 73,
      "White other": 79,
      "Other": "55"
   },
   "scotland": {
      "All": 73,
      "Indian": "69",
      "Pakistani/Bangladeshi": "61",
      "Asian other": "49",
      "Black": "61",
      "Mixed": "?",
      "White British": 74,
      "White other": 78,
      "Other": "56"
   },
   "south-east": {
      "All": 78,
      "Indian": "78",
      "Pakistani/Bangladeshi": "60",
      "Asian other": "66",
      "Black": "68",
      "Mixed": "72",
      "White British": 78,
      "White other": 81,
      "Other": "66"
   },
   "south-west": {
      "All": 77,
      "Indian": "83",
      "Pakistani/Bangladeshi": "?",
      "Asian other": "68",
      "Black": "62",
      "Mixed": "60",
      "White British": 77,
      "White other": 78,
      "Other": "69"
   },
   "wales": {
      "All": 71,
      "Indian": "?",
      "Pakistani/Bangladeshi": "?",
      "Asian other": "52",
      "Black": "?",
      "Mixed": "?",
      "White British": 72,
      "White other": 77,
      "Other": "54"
   },
   "west-midlands": {
      "All": 71,
      "Indian": "70",
      "Pakistani/Bangladeshi": "50",
      "Asian other": "50",
      "Black": "60",
      "Mixed": "56",
      "White British": 75,
      "White other": 75,
      "Other": "57"
   },
   "yorkshire": {
      "All": 72,
      "Indian": "66",
      "Pakistani/Bangladeshi": "54",
      "Asian other": "60",
      "Black": "75",
      "Mixed": "61",
      "White British": 74,
      "White other": 77,
      "Other": "50"
   }
}

  var comparedToAllCheckbox = document.getElementById('compared-to-all')
  var comparedToAllOption = document.getElementById('compared-to-all-option')

        function updateMap() {

          var min = 50
          var max = 84

          var diffMin = -22
          var diffMax = 7

          var range = max - min
          var diffRange = diffMax - diffMin

          var outputMin = 0.0
          var outputMax = 1.0

          var outputRange = outputMax - outputMin  /* 0.7 */

          var ratio = outputRange / range

          var diffRatio = outputRange / diffRange


          for (region of Object.keys(data)) {

            var element = document.getElementById(region + '-value')
            var mapElement = document.getElementById(region)

            if (element && mapElement) {

              var value = data[region][ethnicitySelect.value]

              console.log(parseInt(value))

              if (parseInt(value)) {

                if (comparedToAllCheckbox.checked && ethnicitySelect.value != 'All') {

                  var allValue = parseInt(data[region]['All'])

                  var diff = value - allValue

                  if (diff < 0) {
                    element.textContent = 'â€“' + Math.abs(diff) + '%'
                  } else {
                    element.textContent = '+' + Math.abs(diff) + '%'
                  }

                  mapElement.setAttribute('fill-opacity', ((diffMax - diff) * diffRatio))


                } else {

                  element.textContent = value + '%'
                  mapElement.setAttribute('fill-opacity', ((parseFloat(value) - min) * ratio))

                }

              } else {
                element.textContent = value
                mapElement.setAttribute('fill-opacity', '0')
              }

            } else {
              console.log('missing: ' + region)
            }

          }


          if (ethnicitySelect.value != 'All') {
            comparedToAllOption.classList.remove('hidden')
          } else {
            comparedToAllOption.classList.add('hidden')
          }


        }


        ethnicitySelect.addEventListener('change', updateMap)
        comparedToAllCheckbox.addEventListener('change', updateMap)

        updateMap();

      </script>

      <style>

        .region-value { text-anchor: middle; }
      </style>


    <script>if (typeof window.GOVUK === 'undefined') document.body.className = document.body.className.replace('js-enabled', '');</script>
  </body>
</html>